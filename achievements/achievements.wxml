<theme-background vue-id="4384c180-1" bind:__l="__l" vue-slots="{{['default']}}"><view class="achievement-container"><view class="title">我的成就</view><view class="achievement-map"><block wx:for="{{achievements}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['showAchievementDetail',['$0'],[[['achievements','',index]]]]]]]}}" class="{{['achievement-bubble '+(item.unlocked?'unlocked':'locked')]}}" style="{{('left: '+item.x+'rpx; top: '+item.y+'rpx; width: '+item.size+'rpx; height: '+item.size+'rpx;')}}" bindtap="__e"><text class="achievement-emoji">{{item.emoji}}</text></view></block></view><block wx:if="{{showDetail}}"><view data-event-opts="{{[['touchmove',[['preventTouchMove',['$event']]]]]}}" class="achievement-detail" catchtouchmove="__e"><view class="detail-content"><view class="detail-header"><text class="detail-emoji">{{currentAchievement.emoji}}</text><view class="detail-title"><text class="detail-name">{{currentAchievement.title}}</text><text class="{{['detail-status '+(currentAchievement.unlocked?'unlocked':'locked')]}}">{{''+(currentAchievement.unlocked?'已解锁':'未解锁')+''}}</text></view></view><text class="detail-desc">{{currentAchievement.desc}}</text><block wx:if="{{!currentAchievement.unlocked&&currentAchievement.progress!==undefined}}"><view class="detail-progress"><progress percent="{{currentAchievement.progress}}" stroke-width="4" activeColor="{{currTheme.colors.primary}}" backgroundColor="#f0f0f0"></progress><text class="progress-text">{{currentAchievement.progress+"%"}}</text></view></block><block wx:if="{{currentAchievement.reward}}"><view class="detail-reward"><text class="reward-label">奖励:</text><text class="reward-value">{{currentAchievement.reward}}</text></view></block><button data-event-opts="{{[['tap',[['hideDetail',['$event']]]]]}}" class="close-btn" bindtap="__e">关闭</button></view></view></block></view></theme-background>