<theme-background vue-id="73adca00-1" bind:__l="__l" vue-slots="{{['default']}}"><view class="shop-container"><view class="crystal-balance"><text class="crystal-emoji">💎</text><text class="crystal-count">{{userInfo.diamondNumber}}</text></view><view class="themes-grid"><block wx:for="{{themeList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="{{['theme-card',(item.id==currTheme.id)?'active':'']}}"><view class="theme-preview-container"><image class="theme-preview" src="{{item.preview}}" mode="aspectFill"></image><block wx:if="{{!item.unlocked}}"><view class="theme-overlay"></view></block><block wx:if="{{item.id==currTheme.id}}"><view class="theme-badge">当前主题</view></block></view><view class="theme-info"><view class="theme-header"><text class="theme-name">{{item.name}}</text><block wx:if="{{!item.unlocked}}"><view class="theme-status"><text class="crystal-emoji-small">💎</text><text class="theme-price">{{item.price}}</text></view></block></view><text class="theme-desc">{{item.description}}</text><view class="theme-actions"><block wx:if="{{!item.unlocked}}"><button data-event-opts="{{[['tap',[['previewTheme',['$0'],[[['themeList','',index]]]]]]]}}" class="action-btn preview-btn" bindtap="__e">预览</button></block><block wx:if="{{item.unlocked}}"><button data-event-opts="{{[['tap',[['applyTheme',['$0'],[[['themeList','',index]]]]]]]}}" class="action-btn buy-btn" bindtap="__e">设置主题</button></block><block wx:else><button data-event-opts="{{[['tap',[['submitBuyTheme',['$0'],[[['themeList','',index]]]]]]]}}" class="action-btn buy-btn" bindtap="__e">购买主题</button></block></view></view></view></block></view><view class="tips"><text class="tips-text">💡 完成专注和成就可以获得晶石</text></view><block wx:if="{{previewMode}}"><view class="preview-overlay"><view class="preview-header"><text class="preview-title">主题预览中</text><button data-event-opts="{{[['tap',[['closePreview',['$event']]]]]}}" class="close-preview" bindtap="__e">退出预览</button></view><view class="preview-content"><view class="preview-card focus-card"><view class="preview-card-header"><text class="preview-card-title">专注示例</text><text class="preview-card-time">25:00</text></view><view class="preview-progress-bar"><view class="progress-inner"></view></view><view class="preview-buttons"><button class="preview-btn">开始</button><button class="preview-btn">暂停</button></view></view><view class="preview-card stats-card"><view class="preview-stat"><text class="stat-label">今日专注</text><text class="stat-value">120分钟</text></view><view class="preview-stat"><text class="stat-label">获得晶石</text><text class="stat-value">💎 120</text></view></view><view class="preview-interactions"><button class="preview-action-btn">点击交互</button><button class="preview-action-btn">悬浮效果</button></view></view></view></block></view></theme-background>